extends ./layout/layout.jade

block content
    .container-fluid
        .row-fluid(style='margin-top: 20px;')
            .page-main.page-home.span12
              .container-fluid
                .row-fluid
                  .span12
                    h1 Components
                    form#package-search-form.form-inline(style='margin-top: 1em;', action='#{searchUrl}',method='GET')
                      .control-group
                        .input-append
                          input#package-search-q(type='text',name='key',placeholder='Search')
                          button#package-search-submit.btn(type='submit') Go
                          span.help-inline
                #searchResults.row-fluid(style='margin-top: 1.618em; display: none;')
                #overview.row-fluid(style='margin-top: 1.618em;')
                  .span5
                    h3 最近更新
                    #latest-updates
                        ol.package-list
                            for updateComponent in data.updateComponents
                                li.row-fluid
                                    .details.span7
                                        a.user(href='#/user/cwmma')
                                            | #{updateComponent.updateAuthor}
                                        span.action updated
                                        a.name(href='#{updateComponent.componentUrl}') #{updateComponent.name}
                                    .extra.span4
                                        | #{updateComponent.updateTime} hours ago
                  .span3
                    h3 下载最多
                    #most-depended-on
                        ol.package-list
                            for downloadComponent in data.downloadComponents
                                li.row-fluid
                                    .details.span7
                                        a.name(href='#{downloadComponent.componentUrl}') #{downloadComponent.name}
                                    .extra.span5
                                        | #{downloadComponent.totaldowns}  downloads
                  .span3
                    h3 Top submittors
                    #top-submittors
                      ol.package-list
                        li.row-fluid
                          .details.span7
                            a.user(href='#/user/digitalego') digitalego
                          .extra.span5
                            | 64  packages
                        li.row-fluid
                          .details.span7
                            a.user(href='#/user/ryanramage') ryanramage
                          .extra.span5
                            | 64  packages
                        li.row-fluid
                          .details.span7
                            a.user(href='#/user/caolan') caolan
                          .extra.span5
                            | 39  packages
                        li.row-fluid
                          .details.span7
                            a.user(href='#/user/tbranyen') tbranyen
                          .extra.span5
                            | 25  packages
                        li.row-fluid
                          .details.span7
                            a.user(href='#/user/quincyglenn') quincyglenn
                          .extra.span5
                            | 21  packages
                        li.row-fluid
                          .details.span7
                            a.user(href='#/user/clexit') clexit
                          .extra.span5
                            | 19  packages
                        li.row-fluid
                          .details.span7
                            a.user(href='#/user/JohnDotAwesome') JohnDotAwesome
                          .extra.span5
                            | 16  packages
                        li.row-fluid
                          .details.span7
                            a.user(href='#/user/maxp') maxp
                          .extra.span5
                            | 15  packages
                        li.row-fluid
                          .details.span7
                            a.user(href='#/user/grahamgilchrist') grahamgilchrist
                          .extra.span5
                            | 13  packages
                        li.row-fluid
                          .details.span7
                            a.user(href='#/user/garbas') garbas
                          .extra.span5
                            | 13  packages
